{% extends 'base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">
{% endblock %}

{% block content %}
<!-- Image Slider -->
<div class="swiper main-slider mb-5">
    <div class="swiper-wrapper">
        {% for slide in slider_images %}
            <div class="swiper-slide">
                <img src="{{ slide.url }}" alt="{{ slide.title }}" class="w-100">
                {% if slide.caption %}
                    <div class="swiper-caption">
                        <h3>{{ slide.title }}</h3>
                        <p>{{ slide.caption }}</p>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
</div>

<!-- Main Content -->
<div class="container">
    <div class="row">
        <!-- Main Content - Full Width -->
        <div class="col-12">
            <!-- Welcome Section -->
            <div class="welcome-section mb-5">
                <h1 class="text-center welcome-title">Welcome to NBTE</h1>
                
                <h2 class="text-center about-title">About Us</h2>
                
                <div class="about-content text-center">
                    <p>The National Board for Technical Education (NBTE) is an organ of the Federal Ministry of Education which is charged with the responsibility of regulating Technical and Vocational Education and Training (TVET) institutions in Nigeria. The Board was created by an Act of Parliament (Act No. 9 of 11 January, 1977) as a response to the federal Government of Nigeria realization of the need to develop a critical man-power base to execute the nation's National Development Plans initiated in the 1970s.</p>
                </div>
            </div>

            <!-- Vision and Mission Section -->
            <div class="vision-mission-section mb-5">
                <h2 class="text-center section-title">NBTE Vision and Mission</h2>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="vision-box">
                            <h3 class="text-center">Vision</h3>
                            <p>The Vision of the Board is "To be a world-class regulatory body for the promotion of Technical and Vocational Education and Training (TVET) in Nigeria."</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mission-box">
                            <h3 class="text-center">Mission</h3>
                            <p>The mission statement of NBTE is "To promote the production of skilled technical and professional manpower for the development and sustenance of the national economy."</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- News Section -->
<div class="container mt-5">
    <div class="row">
        <!-- Latest News Section - Full Width -->
        <div class="col-12">
            <h2 class="mb-4">Latest News</h2>
        {% if latest_news %}
            {% for news in latest_news %}
                <div class="card mb-4">
                    {% if news.featured_image %}
                        <img src="{{ news.featured_image.url }}" class="card-img-top" alt="{{ news.title }}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ news.title }}</h5>
                        <p class="card-text">{{ news.content|truncatewords:30 }}</p>
                        <a href="{% url 'nbtelog:news_detail' news.slug %}" class="btn btn-primary">Read More</a>
                    </div>
                    <div class="card-footer text-muted">
                        {{ news.created_at|date:"F d, Y" }}
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No news available.</p>
        {% endif %}
        </div>
    </div>

    <!-- Featured Institutions -->
    {% if featured_institutions %}
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Featured Institutions</h5>
                        {% for institution in featured_institutions %}
                            <div class="mb-3">
                                <h6>{{ institution.name }}</h6>
                                <small class="text-muted">{{ institution.location }}</small>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        new Swiper('.main-slider', {
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            breakpoints: {
                320: {
                    slidesPerView: 1,
                    spaceBetween: 20
                },
                480: {
                    slidesPerView: 1,
                    spaceBetween: 30
                },
                640: {
                    slidesPerView: 1,
                    spaceBetween: 40
                }
            }
        });
    });
</script>

<style>
.swiper-slide {
    position: relative;
}

.swiper-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 20px;
}

.swiper-caption h3 {
    margin: 0;
    font-size: 24px;
}

.swiper-caption p {
    margin: 10px 0 0;
}

.swiper-button-next,
.swiper-button-prev {
    color: #006838;
}

.swiper-pagination-bullet-active {
    background: #006838;
}
</style>
{% endblock %} 